---
import Layout from '../layouts/Layout.astro';
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';
import { getCollection } from 'astro:content';
import {Content, getHeadings} from '../content/practicas/intro.md';

const headings = getHeadings();

// Get all markdown files from the practicas collection
const practices = await getCollection('practicas');

// Create the sidebar items
const sidebar = practices.map(practice => ({
    label: practice.data.title,  // Uses the title from frontmatter
    link: `./practicas/${practice.slug}` // Creates the link using the file slug
}));

---

<Layout>
    <StarlightPage 
        frontmatter={{
            title: 'PrÃ¡cticas',
        }} 
        headings={headings}
        sidebar={sidebar}
    >
        <Content />
    </StarlightPage>
</Layout>